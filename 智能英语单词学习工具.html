<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½è‹±è¯­å•è¯å­¦ä¹ å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }
        
        .subtitle {
            font-size: 1.05rem;
            opacity: 0.9;
        }
        
        .main-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 20px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #eaeaea;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .content-area {
            display: flex;
            min-height: 600px;
        }
        
        .left-panel {
            width: 35%;
            background-color: #f8f9fa;
            border-right: 1px solid #eaeaea;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .right-panel {
            width: 65%;
            padding: 25px;
            overflow-y: auto;
        }
        
        .panel-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.2rem;
            color: #2d3436;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #6a11cb;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #495057;
            font-size: 0.95rem;
        }
        
        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: border-color 0.3s;
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #6a11cb;
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
            font-family: monospace;
        }
        
        .form-hint {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 10px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            display: block;
            color: #2d3436;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .words-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 18px;
            margin-top: 15px;
        }
        
        .word-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .word-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: #6a11cb;
        }
        
        .word-card.mastered {
            background: linear-gradient(135deg, #f8fff9 0%, #e8f5e9 100%);
            border-color: #c3e6cb;
        }
        
        .word-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .word-text {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2d3436;
        }
        
        .pos-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .pos-noun { background-color: #d1ecf1; color: #0c5460; }
        .pos-verb { background-color: #d4edda; color: #155724; }
        .pos-adj { background-color: #fff3cd; color: #856404; }
        .pos-adv { background-color: #f8d7da; color: #721c24; }
        .pos-other { background-color: #e2e3e5; color: #383d41; }
        
        .category-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 8px;
            margin-right: 5px;
        }
        
        .category-core { background-color: #cce5ff; color: #004085; }
        .category-theme { background-color: #d4edda; color: #155724; }
        .category-confusing { background-color: #fff3cd; color: #856404; }
        .category-functional { background-color: #d1ecf1; color: #0c5460; }
        
        .meaning {
            font-size: 1.2rem;
            color: #495057;
            margin: 15px 0;
            min-height: 30px;
            font-weight: 500;
        }
        
        .meaning.hidden {
            opacity: 0;
        }
        
        .word-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .reveal-btn {
            background-color: #6a11cb;
            color: white;
        }
        
        .toggle-mastery-btn {
            background-color: #28a745;
            color: white;
        }
        
        .toggle-mastery-btn.mastered {
            background-color: #6c757d;
        }
        
        .delete-btn {
            background-color: #dc3545;
            color: white;
        }
        
        .search-bar {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        
        .search-input {
            flex-grow: 1;
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: #6a11cb;
            color: white;
            border-color: #6a11cb;
        }
        
        .batch-input-example {
            font-family: monospace;
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #6a11cb;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #2d3436;
        }
        
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 25px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid #eaeaea;
            background-color: #f8f9fa;
        }
        
        @media (max-width: 992px) {
            .content-area {
                flex-direction: column;
            }
            
            .left-panel, .right-panel {
                width: 100%;
            }
            
            .left-panel {
                border-right: none;
                border-bottom: 1px solid #eaeaea;
            }
        }
        
        @media (max-width: 768px) {
            .words-container {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .main-controls {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ§  æ™ºèƒ½è‹±è¯­å•è¯å­¦ä¹ å·¥å…·</h1>
            <p class="subtitle">æ”¯æŒæ™ºèƒ½åˆ†ç±»ã€æ‰¹é‡æ·»åŠ ä¸è¿›åº¦è·Ÿè¸ª | æ‰€æœ‰æ•°æ®æœ¬åœ°ä¿å­˜</p>
        </header>
        
        <div class="main-controls">
            <button class="btn btn-primary" id="showAddSingleBtn">
                <span>+</span> æ·»åŠ å•ä¸ªå•è¯
            </button>
            <button class="btn btn-success" id="showBatchAddBtn">
                <span>ğŸ“¥</span> æ‰¹é‡æ·»åŠ å•è¯
            </button>
            <button class="btn btn-secondary" id="exportBtn">
                <span>ğŸ“¤</span> å¯¼å‡ºè¯åº“
            </button>
            <button class="btn btn-danger" id="resetBtn">
                <span>ğŸ”„</span> é‡ç½®è¿›åº¦
            </button>
        </div>
        
        <div class="content-area">
            <div class="left-panel">
                <div class="panel-section">
                    <h2 class="section-title">
                        <span>ğŸ“Š</span> å­¦ä¹ ç»Ÿè®¡
                    </h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-value" id="totalWords">0</span>
                            <span class="stat-label">æ€»å•è¯æ•°</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="masteredWords">0</span>
                            <span class="stat-label">å·²æŒæ¡</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="coreWords">0</span>
                            <span class="stat-label">æ ¸å¿ƒè¯</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="themeWords">0</span>
                            <span class="stat-label">åœºæ™¯è¯</span>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h2 class="section-title">
                        <span>âš™ï¸</span> æ™ºèƒ½åˆ†ç±»å™¨è®¾ç½®
                    </h2>
                    <div class="form-group">
                        <label class="form-label">åˆ†ç±»æ¨¡å¼</label>
                        <select class="form-select" id="classifierMode">
                            <option value="auto">è‡ªåŠ¨åˆ†ç±»ï¼ˆæ¨èï¼‰</option>
                            <option value="manual">æ‰‹åŠ¨é€‰æ‹©åˆ†ç±»</option>
                        </select>
                        <p class="form-hint">è‡ªåŠ¨æ¨¡å¼ä¼šæ ¹æ®å•è¯ç‰¹å¾æ™ºèƒ½åˆ¤æ–­åˆ†ç±»</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">å­¦ä¹ æ¨¡å¼</label>
                        <select class="form-select" id="learningMode">
                            <option value="all">æ˜¾ç¤ºæ‰€æœ‰å•è¯</option>
                            <option value="unmastered">ä»…æ˜¾ç¤ºæœªæŒæ¡</option>
                            <option value="mastered">ä»…æ˜¾ç¤ºå·²æŒæ¡</option>
                        </select>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h2 class="section-title">
                        <span>ğŸ’¡</span> ä½¿ç”¨æç¤º
                    </h2>
                    <ul style="padding-left: 20px; color: #6c757d; font-size: 0.9rem; line-height: 1.6;">
                        <li>ç‚¹å‡»å•è¯å¡ç‰‡å¯ä»¥æ˜¾ç¤º/éšè—ä¸­æ–‡é‡Šä¹‰</li>
                        <li>ä½¿ç”¨"æ ‡è®°æŒæ¡"æŒ‰é’®è·Ÿè¸ªå­¦ä¹ è¿›åº¦</li>
                        <li>æ‰¹é‡æ·»åŠ æ—¶ï¼Œæ¯è¡Œæ ¼å¼ï¼šå•è¯,é‡Šä¹‰ (å¦‚: distinguish,åŒºåˆ†)</li>
                        <li>æ‰€æœ‰æ•°æ®è‡ªåŠ¨ä¿å­˜åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°</li>
                        <li>åˆ†ç±»æ ‡ç­¾è¯´æ˜ï¼š
                            <ul style="margin-top: 5px;">
                                <li><span class="category-badge category-core" style="font-size:0.7rem;">æ ¸å¿ƒè¯</span>: æŠ½è±¡æ¦‚å¿µã€é«˜é¢‘åŠ¨è¯</li>
                                <li><span class="category-badge category-theme" style="font-size:0.7rem;">åœºæ™¯è¯</span>: ç‰¹å®šä¸»é¢˜ã€é¢†åŸŸè¯æ±‡</li>
                                <li><span class="category-badge category-confusing" style="font-size:0.7rem;">æ˜“æ··è¯</span>: å½¢è¿‘/ä¹‰è¿‘æ˜“æ··æ·†è¯</li>
                                <li><span class="category-badge category-functional" style="font-size:0.7rem;">åŠŸèƒ½è¯</span>: é€»è¾‘è¿æ¥ã€å¸¸ç”¨è¡¨è¾¾</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="right-panel">
                <div class="search-bar">
                    <input type="text" class="search-input" id="searchInput" placeholder="æœç´¢å•è¯æˆ–é‡Šä¹‰...">
                    <button class="btn btn-primary" id="clearSearchBtn">æ¸…é™¤</button>
                </div>
                
                <div class="filter-controls">
                    <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
                    <button class="filter-btn" data-filter="core">æ ¸å¿ƒè¯</button>
                    <button class="filter-btn" data-filter="theme">åœºæ™¯è¯</button>
                    <button class="filter-btn" data-filter="confusing">æ˜“æ··è¯</button>
                    <button class="filter-btn" data-filter="functional">åŠŸèƒ½è¯</button>
                    <button class="filter-btn" data-filter="noun">åè¯</button>
                    <button class="filter-btn" data-filter="verb">åŠ¨è¯</button>
                    <button class="filter-btn" data-filter="adj">å½¢å®¹è¯</button>
                </div>
                
                <div class="words-container" id="wordsContainer">
                    <!-- å•è¯å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        
        <!-- æ·»åŠ å•ä¸ªå•è¯æ¨¡æ€æ¡† -->
        <div class="modal" id="addSingleModal">
            <div class="modal-content">
                <h3 class="modal-title">æ·»åŠ å•ä¸ªå•è¯</h3>
                <div class="form-group">
                    <label class="form-label">å•è¯</label>
                    <input type="text" class="form-input" id="singleWordInput" placeholder="ä¾‹å¦‚: distinguish">
                </div>
                <div class="form-group">
                    <label class="form-label">ä¸­æ–‡é‡Šä¹‰</label>
                    <input type="text" class="form-input" id="singleMeaningInput" placeholder="ä¾‹å¦‚: åŒºåˆ†">
                </div>
                <div class="form-group">
                    <label class="form-label">è¯æ€§ï¼ˆå¯è‡ªåŠ¨è¯†åˆ«ï¼‰</label>
                    <select class="form-select" id="singlePosSelect">
                        <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
                        <option value="åŠ¨è¯">åŠ¨è¯</option>
                        <option value="åè¯">åè¯</option>
                        <option value="å½¢å®¹è¯">å½¢å®¹è¯</option>
                        <option value="å‰¯è¯">å‰¯è¯</option>
                        <option value="å…¶ä»–">å…¶ä»–</option>
                    </select>
                </div>
                <div class="form-group" id="categoryManualGroup" style="display: none;">
                    <label class="form-label">åˆ†ç±»</label>
                    <select class="form-select" id="singleCategorySelect">
                        <option value="core">æŠ½è±¡æ ¸å¿ƒè¯</option>
                        <option value="theme">ä¸»é¢˜åœºæ™¯è¯</option>
                        <option value="confusing">æ˜“æ··è¯</option>
                        <option value="functional">å®ç”¨åŠŸèƒ½è¯</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="cancelSingleBtn">å–æ¶ˆ</button>
                    <button class="btn btn-primary" id="addSingleBtn">æ·»åŠ å•è¯</button>
                </div>
            </div>
        </div>
        
        <!-- æ‰¹é‡æ·»åŠ å•è¯æ¨¡æ€æ¡† -->
        <div class="modal" id="batchAddModal">
            <div class="modal-content">
                <h3 class="modal-title">æ‰¹é‡æ·»åŠ å•è¯</h3>
                <div class="form-group">
                    <label class="form-label">å•è¯åˆ—è¡¨ï¼ˆæ¯è¡Œä¸€ä¸ªå•è¯ï¼Œæ ¼å¼ï¼šå•è¯,é‡Šä¹‰ï¼‰</label>
                    <textarea class="form-textarea" id="batchWordsInput" placeholder="ä¾‹å¦‚ï¼š
distinguish,åŒºåˆ†
interpret,è§£é‡Š
ethics,ä¼¦ç†
generous,æ…·æ…¨çš„"></textarea>
                    <p class="form-hint">æ¯è¡Œæ ¼å¼ï¼šè‹±æ–‡å•è¯,ä¸­æ–‡é‡Šä¹‰ã€‚è¯æ€§å’Œåˆ†ç±»å°†è‡ªåŠ¨è¯†åˆ«ã€‚</p>
                </div>
                <div class="batch-input-example">
                    <strong>ç¤ºä¾‹ï¼š</strong><br>
                    distinguish,åŒºåˆ†<br>
                    interpret,è§£é‡Š<br>
                    ethics,ä¼¦ç†<br>
                    generous,æ…·æ…¨çš„<br>
                    otherwise,å¦åˆ™
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="cancelBatchBtn">å–æ¶ˆ</button>
                    <button class="btn btn-success" id="addBatchBtn">æ‰¹é‡æ·»åŠ </button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            æ™ºèƒ½è‹±è¯­å•è¯å­¦ä¹ å·¥å…· v2.0 | æ•°æ®æœ¬åœ°ä¿å­˜ | ç‚¹å‡»å•è¯æ˜¾ç¤ºé‡Šä¹‰ | æ”¯æŒæ™ºèƒ½åˆ†ç±»ä¸æ‰¹é‡å¯¼å…¥
        </div>
    </div>

    <script>
        // ============================
        // æ™ºèƒ½åˆ†ç±»å™¨æ ¸å¿ƒé€»è¾‘
        // ============================
        class SmartWordClassifier {
            constructor() {
                // æ ¸å¿ƒåŠ¨è¯ç‰¹å¾ï¼ˆé«˜é¢‘æŠ½è±¡åŠ¨ä½œï¼‰
                this.coreVerbPatterns = [
                    /^(distinguish|interpret|emphasize|criticize|generate|proceed|decline|restore|combat|justify|imply)$/i,
                    /(ize|ate|ify|ish)$/  // å¸¸è§åŠ¨è¯åç¼€
                ];
                
                // æ ¸å¿ƒå½¢å®¹è¯ç‰¹å¾ï¼ˆæŠ½è±¡å±æ€§ï¼‰
                this.coreAdjPatterns = [
                    /^(potential|essential|sufficient|ambiguous|substantial|sustainable|conservative|dispensable|generous|tough|enthusiastic|humble|tolerant|certain)$/i,
                    /(al|ic|ive|ous|less|ful|able|ible)$/  // å¸¸è§å½¢å®¹è¯åç¼€
                ];
                
                // ä¸»é¢˜åœºæ™¯è¯å…³é”®è¯
                this.themeKeywords = {
                    'ç¤¾ä¼šä¼¦ç†': ['ethic', 'virtue', 'conscience', 'sympathy', 'guilt', 'tolerant', 'moral'],
                    'ç»æµå•†ä¸š': ['stock', 'commercial', 'option', 'crop', 'crisis', 'market', 'economy'],
                    'æ”¿æ²»æ³•å¾‹': ['council', 'citizen', 'visa', 'legal', 'policy', 'government'],
                    'ç¯å¢ƒç§‘å­¦': ['climate', 'absorb', 'evidence', 'environment', 'science', 'research'],
                    'æ•™è‚²å­¦ä¹ ': ['student', 'teacher', 'school', 'study', 'learn', 'education']
                };
                
                // æ˜“æ··è¯ç‰¹å¾ï¼ˆé€šå¸¸æœ‰å¸¸è§æ··æ·†å¯¹è±¡ï¼‰
                this.confusingPatterns = [
                    /^(weakness|poverty|require|request|endeavor|effort|affect|effect|conscious|conscience|costume|custom)$/i,
                    /(ness|ity|ment|tion|sion)$/  // å¸¸è§åè¯åç¼€ï¼Œæ˜“äº§ç”Ÿå½¢è¿‘è¯
                ];
                
                // åŠŸèƒ½è¯ç‰¹å¾ï¼ˆé€»è¾‘è¿æ¥ã€å¸¸ç”¨è¡¨è¾¾ï¼‰
                this.functionalWords = [
                    'otherwise', 'therefore', 'however', 'moreover', 'furthermore', 
                    'consequently', 'nevertheless', 'tackle', 'address', 'swap'
                ];
            }
            
            // è‡ªåŠ¨åˆ†ç±»ä¸»å‡½æ•°
            classify(word, meaning = '') {
                const lowerWord = word.toLowerCase();
                
                // 1. é¦–å…ˆæ£€æŸ¥æ˜¯å¦æ˜¯å·²çŸ¥çš„åŠŸèƒ½è¯
                if (this.functionalWords.includes(lowerWord)) {
                    return { category: 'functional', confidence: 'high' };
                }
                
                // 2. æ£€æŸ¥æ˜¯å¦åŒ¹é…æ˜“æ··è¯æ¨¡å¼
                for (const pattern of this.confusingPatterns) {
                    if (pattern.test(lowerWord)) {
                        return { category: 'confusing', confidence: 'medium' };
                    }
                }
                
                // 3. æ£€æŸ¥æ˜¯å¦åŒ¹é…æ ¸å¿ƒåŠ¨è¯æ¨¡å¼
                for (const pattern of this.coreVerbPatterns) {
                    if (pattern.test(lowerWord)) {
                        return { category: 'core', confidence: 'high' };
                    }
                }
                
                // 4. æ£€æŸ¥æ˜¯å¦åŒ¹é…æ ¸å¿ƒå½¢å®¹è¯æ¨¡å¼
                for (const pattern of this.coreAdjPatterns) {
                    if (pattern.test(lowerWord)) {
                        return { category: 'core', confidence: 'high' };
                    }
                }
                
                // 5. æ£€æŸ¥æ˜¯å¦åŒ¹é…ä¸»é¢˜åœºæ™¯è¯
                for (const [theme, keywords] of Object.entries(this.themeKeywords)) {
                    for (const keyword of keywords) {
                        if (lowerWord.includes(keyword) || meaning.includes(theme)) {
                            return { category: 'theme', confidence: 'medium' };
                        }
                    }
                }
                
                // 6. é»˜è®¤åˆ†ç±»ï¼ˆåŸºäºè¯æ€§ç­‰å…¶ä»–ç‰¹å¾ï¼‰
                return this.classifyByDefault(word, meaning);
            }
            
            // é»˜è®¤åˆ†ç±»é€»è¾‘
            classifyByDefault(word, meaning) {
                // åŸºäºè¯æ€§åç¼€çš„ç®€å•åˆ¤æ–­
                if (word.match(/(tion|sion|ment|ness|ity|ance|ence|ship|hood|ism)$/)) {
                    return { category: 'theme', confidence: 'low' }; // å¯èƒ½æ˜¯åè¯ç±»ä¸»é¢˜è¯
                } else if (word.match(/(ize|ate|ify|ish|en)$/)) {
                    return { category: 'core', confidence: 'medium' }; // å¯èƒ½æ˜¯åŠ¨è¯
                } else if (word.match(/(al|ic|ive|ous|less|ful|able|ible|ant|ent)$/)) {
                    return { category: 'core', confidence: 'medium' }; // å¯èƒ½æ˜¯å½¢å®¹è¯
                } else {
                    return { category: 'functional', confidence: 'low' }; // é»˜è®¤å½’ä¸ºåŠŸèƒ½è¯
                }
            }
            
            // è‡ªåŠ¨è¯†åˆ«è¯æ€§
            detectPartOfSpeech(word) {
                const lowerWord = word.toLowerCase();
                
                // å¸¸è§åŠ¨è¯åç¼€
                if (lowerWord.match(/(ize|ate|ify|ish|en|ise|fy)$/)) {
                    return 'åŠ¨è¯';
                }
                
                // å¸¸è§åè¯åç¼€
                if (lowerWord.match(/(tion|sion|ment|ness|ity|ance|ence|ship|hood|ism|cy|ty|ure|age|ery|ry|al|th)$/)) {
                    return 'åè¯';
                }
                
                // å¸¸è§å½¢å®¹è¯åç¼€
                if (lowerWord.match(/(al|ic|ical|ive|ous|ious|eous|ful|less|able|ible|ant|ent|ary|ory|ish|like|some|ed|ing)$/)) {
                    return 'å½¢å®¹è¯';
                }
                
                // å¸¸è§å‰¯è¯åç¼€
                if (lowerWord.match(/(ly|ward|wise)$/)) {
                    return 'å‰¯è¯';
                }
                
                // åŸºäºå·²çŸ¥å•è¯çš„ç®€å•æ˜ å°„ï¼ˆå¯æ‰©å±•ï¼‰
                const knownWords = {
                    'distinguish': 'åŠ¨è¯', 'interpret': 'åŠ¨è¯', 'emphasize': 'åŠ¨è¯', 
                    'criticize': 'åŠ¨è¯', 'generate': 'åŠ¨è¯', 'decline': 'åŠ¨è¯/åè¯',
                    'ethics': 'åè¯', 'virtue': 'åè¯', 'conscience': 'åè¯',
                    'potential': 'å½¢å®¹è¯/åè¯', 'essential': 'å½¢å®¹è¯', 'sufficient': 'å½¢å®¹è¯',
                    'otherwise': 'å‰¯è¯', 'therefore': 'å‰¯è¯', 'however': 'å‰¯è¯'
                };
                
                if (knownWords[word]) {
                    return knownWords[word];
                }
                
                return 'å…¶ä»–';
            }
        }
        
        // ============================
        // åº”ç”¨ä¸»é€»è¾‘
        // ============================
        class VocabularyApp {
            constructor() {
                this.classifier = new SmartWordClassifier();
                this.words = [];
                this.currentFilter = 'all';
                this.currentLearningMode = 'all';
                this.searchQuery = '';
                
                // åŠ è½½åˆå§‹æ•°æ®
                this.loadInitialData();
                this.initEventListeners();
                this.render();
                this.updateStats();
            }
            
            // åŠ è½½åˆå§‹å•è¯æ•°æ®
            loadInitialData() {
                const saved = localStorage.getItem('vocabularyData');
                if (saved) {
                    this.words = JSON.parse(saved);
                } else {
                    // åˆå§‹ç¤ºä¾‹æ•°æ®
                    this.words = [
                        { word: "distinguish", meaning: "åŒºåˆ†", pos: "åŠ¨è¯", category: "core", mastered: false, confidence: "high" },
                        { word: "interpret", meaning: "è§£é‡Š", pos: "åŠ¨è¯", category: "core", mastered: false, confidence: "high" },
                        { word: "emphasize", meaning: "å¼ºè°ƒ", pos: "åŠ¨è¯", category: "core", mastered: false, confidence: "high" },
                        { word: "criticize", meaning: "æ‰¹è¯„", pos: "åŠ¨è¯", category: "core", mastered: false, confidence: "high" },
                        { word: "potential", meaning: "æ½œåœ¨çš„/æ½œåŠ›", pos: "å½¢å®¹è¯/åè¯", category: "core", mastered: false, confidence: "high" },
                        { word: "essential", meaning: "å¿…è¦çš„", pos: "å½¢å®¹è¯", category: "core", mastered: false, confidence: "high" },
                        { word: "ethics", meaning: "ä¼¦ç†", pos: "åè¯", category: "theme", mastered: false, confidence: "medium" },
                        { word: "virtue", meaning: "ç¾å¾·", pos: "åè¯", category: "theme", mastered: false, confidence: "medium" },
                        { word: "conscience", meaning: "è‰¯å¿ƒ", pos: "åè¯", category: "theme", mastered: false, confidence: "medium" },
                        { word: "stock", meaning: "è‚¡ç¥¨", pos: "åè¯", category: "theme", mastered: false, confidence: "medium" },
                        { word: "commercial", meaning: "å•†ä¸šçš„", pos: "å½¢å®¹è¯", category: "theme", mastered: false, confidence: "medium" },
                        { word: "weakness", meaning: "å¼±ç‚¹", pos: "åè¯", category: "confusing", mastered: false, confidence: "high" },
                        { word: "poverty", meaning: "è´«ç©·", pos: "åè¯", category: "confusing", mastered: false, confidence: "high" },
                        { word: "require", meaning: "è¦æ±‚", pos: "åŠ¨è¯", category: "confusing", mastered: false, confidence: "medium" },
                        { word: "request", meaning: "è¯·æ±‚", pos: "åŠ¨è¯/åè¯", category: "confusing", mastered: false, confidence: "medium" },
                        { word: "otherwise", meaning: "å¦åˆ™", pos: "å‰¯è¯", category: "functional", mastered: false, confidence: "high" },
                        { word: "tackle", meaning: "å¤„ç†", pos: "åŠ¨è¯", category: "functional", mastered: false, confidence: "medium" },
                        { word: "generous", meaning: "æ…·æ…¨çš„", pos: "å½¢å®¹è¯", category: "functional", mastered: false, confidence: "medium" },
                        { word: "tough", meaning: "è‰°éš¾çš„/åšå¼ºçš„", pos: "å½¢å®¹è¯", category: "functional", mastered: false, confidence: "medium" }
                    ];
                    this.saveToStorage();
                }
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToStorage() {
                localStorage.setItem('vocabularyData', JSON.stringify(this.words));
            }
            
            // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
            initEventListeners() {
                // å•ä¸ªæ·»åŠ ç›¸å…³
                document.getElementById('showAddSingleBtn').addEventListener('click', () => this.showModal('addSingleModal'));
                document.getElementById('cancelSingleBtn').addEventListener('click', () => this.hideModal('addSingleModal'));
                document.getElementById('addSingleBtn').addEventListener('click', () => this.addSingleWord());
                
                // æ‰¹é‡æ·»åŠ ç›¸å…³
                document.getElementById('showBatchAddBtn').addEventListener('click', () => this.showModal('batchAddModal'));
                document.getElementById('cancelBatchBtn').addEventListener('click', () => this.hideModal('batchAddModal'));
                document.getElementById('addBatchBtn').addEventListener('click', () => this.addBatchWords());
                
                // åˆ†ç±»å™¨æ¨¡å¼åˆ‡æ¢
                document.getElementById('classifierMode').addEventListener('change', (e) => {
                    const manualGroup = document.getElementById('categoryManualGroup');
                    manualGroup.style.display = e.target.value === 'manual' ? 'block' : 'none';
                });
                
                // å­¦ä¹ æ¨¡å¼åˆ‡æ¢
                document.getElementById('learningMode').addEventListener('change', (e) => {
                    this.currentLearningMode = e.target.value;
                    this.render();
                });
                
                // æœç´¢åŠŸèƒ½
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.searchQuery = e.target.value.toLowerCase();
                    this.render();
                });
                
                document.getElementById('clearSearchBtn').addEventListener('click', () => {
                    document.getElementById('searchInput').value = '';
                    this.searchQuery = '';
                    this.render();
                });
                
                // ç­›é€‰æŒ‰é’®
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentFilter = e.target.dataset.filter;
                        this.render();
                    });
                });
                
                // å¯¼å‡ºåŠŸèƒ½
                document.getElementById('exportBtn').addEventListener('click', () => this.exportData());
                
                // é‡ç½®åŠŸèƒ½
                document.getElementById('resetBtn').addEventListener('click', () => {
                    if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰å•è¯çš„æŒæ¡è¿›åº¦å—ï¼Ÿ')) {
                        this.words.forEach(word => word.mastered = false);
                        this.saveToStorage();
                        this.render();
                        this.updateStats();
                    }
                });
                
                // ç›‘å¬å•è¯è¾“å…¥æ¡†å˜åŒ–ï¼Œå®æ—¶æ˜¾ç¤ºåˆ†ç±»å»ºè®®
                document.getElementById('singleWordInput').addEventListener('input', (e) => {
                    this.showClassificationPreview();
                });
                
                document.getElementById('singleMeaningInput').addEventListener('input', (e) => {
                    this.showClassificationPreview();
                });
            }
            
            // æ˜¾ç¤ºåˆ†ç±»é¢„è§ˆ
            showClassificationPreview() {
                const word = document.getElementById('singleWordInput').value.trim();
                const meaning = document.getElementById('singleMeaningInput').value.trim();
                
                if (word && document.getElementById('classifierMode').value === 'auto') {
                    const classification = this.classifier.classify(word, meaning);
                    const pos = this.classifier.detectPartOfSpeech(word);
                    
                    // æ˜¾ç¤ºé¢„è§ˆä¿¡æ¯
                    const previewDiv = document.getElementById('classificationPreview');
                    if (!previewDiv) {
                        const preview = document.createElement('div');
                        preview.id = 'classificationPreview';
                        preview.className = 'form-hint';
                        preview.style.marginTop = '10px';
                        preview.style.padding = '8px';
                        preview.style.backgroundColor = '#f8f9fa';
                        preview.style.borderRadius = '6px';
                        preview.style.borderLeft = '3px solid #6a11cb';
                        document.querySelector('#addSingleModal .modal-content').insertBefore(
                            preview, 
                            document.querySelector('#addSingleModal .modal-actions')
                        );
                    }
                    
                    const categoryNames = {
                        'core': 'æŠ½è±¡æ ¸å¿ƒè¯',
                        'theme': 'ä¸»é¢˜åœºæ™¯è¯', 
                        'confusing': 'æ˜“æ··è¯',
                        'functional': 'å®ç”¨åŠŸèƒ½è¯'
                    };
                    
                    document.getElementById('classificationPreview').innerHTML = `
                        <strong>æ™ºèƒ½åˆ†ç±»é¢„è§ˆï¼š</strong><br>
                        è¯æ€§ï¼š${pos}<br>
                        åˆ†ç±»ï¼š${categoryNames[classification.category]} (ç½®ä¿¡åº¦ï¼š${classification.confidence})
                    `;
                } else if (document.getElementById('classificationPreview')) {
                    document.getElementById('classificationPreview').remove();
                }
            }
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            showModal(modalId) {
                document.getElementById(modalId).style.display = 'flex';
                if (modalId === 'addSingleModal') {
                    document.getElementById('singleWordInput').focus();
                }
            }
            
            // éšè—æ¨¡æ€æ¡†
            hideModal(modalId) {
                document.getElementById(modalId).style.display = 'none';
                if (modalId === 'addSingleModal') {
                    document.getElementById('singleWordInput').value = '';
                    document.getElementById('singleMeaningInput').value = '';
                    document.getElementById('singlePosSelect').value = 'auto';
                    const previewDiv = document.getElementById('classificationPreview');
                    if (previewDiv) previewDiv.remove();
                } else if (modalId === 'batchAddModal') {
                    document.getElementById('batchWordsInput').value = '';
                }
            }
            
            // æ·»åŠ å•ä¸ªå•è¯
            addSingleWord() {
                const word = document.getElementById('singleWordInput').value.trim();
                const meaning = document.getElementById('singleMeaningInput').value.trim();
                const posSelect = document.getElementById('singlePosSelect').value;
                const classifierMode = document.getElementById('classifierMode').value;
                
                if (!word || !meaning) {
                    alert('è¯·å¡«å†™å•è¯å’Œé‡Šä¹‰');
                    return;
                }
                
                // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
                if (this.words.some(w => w.word.toLowerCase() === word.toLowerCase())) {
                    alert('è¯¥å•è¯å·²å­˜åœ¨äºè¯åº“ä¸­');
                    return;
                }
                
                // ç¡®å®šè¯æ€§
                let pos;
                if (posSelect === 'auto') {
                    pos = this.classifier.detectPartOfSpeech(word);
                } else {
                    pos = posSelect;
                }
                
                // ç¡®å®šåˆ†ç±»
                let category;
                if (classifierMode === 'auto') {
                    const classification = this.classifier.classify(word, meaning);
                    category = classification.category;
                } else {
                    category = document.getElementById('singleCategorySelect').value;
                }
                
                // æ·»åŠ æ–°å•è¯
                this.words.push({
                    word: word,
                    meaning: meaning,
                    pos: pos,
                    category: category,
                    mastered: false
                });
                
                this.saveToStorage();
                this.render();
                this.updateStats();
                this.hideModal('addSingleModal');
                
                alert(`"${word}" å·²æˆåŠŸæ·»åŠ åˆ°è¯åº“ï¼`);
            }
            
            // æ‰¹é‡æ·»åŠ å•è¯
            addBatchWords() {
                const batchInput = document.getElementById('batchWordsInput').value.trim();
                if (!batchInput) {
                    alert('è¯·è¾“å…¥è¦æ·»åŠ çš„å•è¯åˆ—è¡¨');
                    return;
                }
                
                const lines = batchInput.split('\n').filter(line => line.trim() !== '');
                let addedCount = 0;
                let skippedCount = 0;
                
                lines.forEach(line => {
                    const parts = line.split(',').map(part => part.trim());
                    if (parts.length >= 2) {
                        const word = parts[0];
                        const meaning = parts[1];
                        
                        // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
                        if (this.words.some(w => w.word.toLowerCase() === word.toLowerCase())) {
                            skippedCount++;
                            return;
                        }
                        
                        // è‡ªåŠ¨è¯†åˆ«è¯æ€§å’Œåˆ†ç±»
                        const pos = this.classifier.detectPartOfSpeech(word);
                        const classification = this.classifier.classify(word, meaning);
                        
                        this.words.push({
                            word: word,
                            meaning: meaning,
                            pos: pos,
                            category: classification.category,
                            mastered: false
                        });
                        
                        addedCount++;
                    }
                });
                
                if (addedCount > 0) {
                    this.saveToStorage();
                    this.render();
                    this.updateStats();
                    
                    let message = `æˆåŠŸæ·»åŠ  ${addedCount} ä¸ªå•è¯åˆ°è¯åº“ï¼`;
                    if (skippedCount > 0) {
                        message += `\nè·³è¿‡ ${skippedCount} ä¸ªå·²å­˜åœ¨çš„å•è¯ã€‚`;
                    }
                    
                    alert(message);
                    this.hideModal('batchAddModal');
                } else {
                    alert('æ²¡æœ‰æˆåŠŸæ·»åŠ ä»»ä½•æ–°å•è¯ï¼ˆå¯èƒ½éƒ½å·²å­˜åœ¨ï¼‰');
                }
            }
            
            // å¯¼å‡ºæ•°æ®
            exportData() {
                const dataStr = JSON.stringify(this.words, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                
                const exportFileDefaultName = 'æˆ‘çš„å•è¯è¯åº“.json';
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
            }
            
            // åˆ é™¤å•è¯
            deleteWord(wordToDelete) {
                if (confirm(`ç¡®å®šè¦åˆ é™¤å•è¯ "${wordToDelete}" å—ï¼Ÿ`)) {
                    this.words = this.words.filter(word => word.word !== wordToDelete);
                    this.saveToStorage();
                    this.render();
                    this.updateStats();
                }
            }
            
            // åˆ‡æ¢æŒæ¡çŠ¶æ€
            toggleMastery(wordToToggle) {
                const word = this.words.find(w => w.word === wordToToggle);
                if (word) {
                    word.mastered = !word.mastered;
                    this.saveToStorage();
                    this.render();
                    this.updateStats();
                }
            }
            
            // æ¸²æŸ“å•è¯åˆ—è¡¨
            render() {
                const container = document.getElementById('wordsContainer');
                if (!container) return;
                
                // ç­›é€‰å•è¯
                let filteredWords = this.words;
                
                // åº”ç”¨æœç´¢ç­›é€‰
                if (this.searchQuery) {
                    filteredWords = filteredWords.filter(word => 
                        word.word.toLowerCase().includes(this.searchQuery) || 
                        word.meaning.toLowerCase().includes(this.searchQuery)
                    );
                }
                
                // åº”ç”¨åˆ†ç±»ç­›é€‰
                if (this.currentFilter !== 'all') {
                    if (['core', 'theme', 'confusing', 'functional'].includes(this.currentFilter)) {
                        filteredWords = filteredWords.filter(word => word.category === this.currentFilter);
                    } else if (['noun', 'verb', 'adj', 'adv'].includes(this.currentFilter)) {
                        const posMap = { noun: 'åè¯', verb: 'åŠ¨è¯', adj: 'å½¢å®¹è¯', adv: 'å‰¯è¯' };
                        filteredWords = filteredWords.filter(word => word.pos.includes(posMap[this.currentFilter]));
                    }
                }
                
                // åº”ç”¨å­¦ä¹ æ¨¡å¼ç­›é€‰
                if (this.currentLearningMode === 'unmastered') {
                    filteredWords = filteredWords.filter(word => !word.mastered);
                } else if (this.currentLearningMode === 'mastered') {
                    filteredWords = filteredWords.filter(word => word.mastered);
                }
                
                // æ’åºï¼šæœªæŒæ¡çš„åœ¨å‰ï¼ŒæŒ‰å­—æ¯é¡ºåº
                filteredWords.sort((a, b) => {
                    if (a.mastered !== b.mastered) {
                        return a.mastered ? 1 : -1;
                    }
                    return a.word.localeCompare(b.word);
                });
                
                // æ¸…ç©ºå®¹å™¨
                container.innerHTML = '';
                
                // å¦‚æœæ²¡æœ‰å•è¯
                if (filteredWords.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #6c757d; grid-column: 1 / -1;">
                            <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ“š</div>
                            <h3>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å•è¯</h3>
                            <p>å°è¯•æ·»åŠ æ–°å•è¯æˆ–è°ƒæ•´ç­›é€‰æ¡ä»¶</p>
                        </div>
                    `;
                    return;
                }
                
                // æ¸²æŸ“å•è¯å¡ç‰‡
                filteredWords.forEach(word => {
                    const card = document.createElement('div');
                    card.className = `word-card ${word.mastered ? 'mastered' : ''}`;
                    
                    // ç¡®å®šè¯æ€§å¾½ç« é¢œè‰²
                    let posClass = 'pos-other';
                    if (word.pos.includes('åè¯')) posClass = 'pos-noun';
                    else if (word.pos.includes('åŠ¨è¯')) posClass = 'pos-verb';
                    else if (word.pos.includes('å½¢å®¹è¯')) posClass = 'pos-adj';
                    else if (word.pos.includes('å‰¯è¯')) posClass = 'pos-adv';
                    
                    // ç¡®å®šåˆ†ç±»å¾½ç« 
                    let categoryName = '';
                    let categoryClass = '';
                    switch(word.category) {
                        case 'core': categoryName = 'æ ¸å¿ƒè¯'; categoryClass = 'category-core'; break;
                        case 'theme': categoryName = 'åœºæ™¯è¯'; categoryClass = 'category-theme'; break;
                        case 'confusing': categoryName = 'æ˜“æ··è¯'; categoryClass = 'category-confusing'; break;
                        case 'functional': categoryName = 'åŠŸèƒ½è¯'; categoryClass = 'category-functional'; break;
                    }
                    
                    card.innerHTML = `
                        <div class="word-header">
                            <div>
                                <span class="word-text">${word.word}</span>
                                <span class="pos-badge ${posClass}">${word.pos}</span>
                            </div>
                            <div>
                                <span class="category-badge ${categoryClass}">${categoryName}</span>
                            </div>
                        </div>
                        <div class="meaning hidden">${word.meaning}</div>
                        <div class="word-actions">
                            <button class="action-btn reveal-btn" data-word="${word.word}">æ˜¾ç¤ºé‡Šä¹‰</button>
                            <button class="action-btn toggle-mastery-btn ${word.mastered ? 'mastered' : ''}" 
                                    data-word="${word.word}">
                                ${word.mastered ? 'âœ“ å·²æŒæ¡' : 'æ ‡è®°æŒæ¡'}
                            </button>
                            <button class="action-btn delete-btn" data-word="${word.word}">åˆ é™¤</button>
                        </div>
                    `;
                    
                    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
                    const revealBtn = card.querySelector('.reveal-btn');
                    const toggleBtn = card.querySelector('.toggle-mastery-btn');
                    const deleteBtn = card.querySelector('.delete-btn');
                    const meaningEl = card.querySelector('.meaning');
                    
                    revealBtn.addEventListener('click', () => {
                        meaningEl.classList.toggle('hidden');
                        revealBtn.textContent = meaningEl.classList.contains('hidden') ? 'æ˜¾ç¤ºé‡Šä¹‰' : 'éšè—é‡Šä¹‰';
                    });
                    
                    toggleBtn.addEventListener('click', () => {
                        this.toggleMastery(word.word);
                    });
                    
                    deleteBtn.addEventListener('click', () => {
                        this.deleteWord(word.word);
                    });
                    
                    // ç‚¹å‡»å¡ç‰‡å…¶ä»–éƒ¨åˆ†ä¹Ÿå¯ä»¥æ˜¾ç¤º/éšè—é‡Šä¹‰
                    card.addEventListener('click', (e) => {
                        if (!e.target.classList.contains('action-btn') && 
                            !e.target.classList.contains('pos-badge') && 
                            !e.target.classList.contains('category-badge')) {
                            meaningEl.classList.toggle('hidden');
                            revealBtn.textContent = meaningEl.classList.contains('hidden') ? 'æ˜¾ç¤ºé‡Šä¹‰' : 'éšè—é‡Šä¹‰';
                        }
                    });
                    
                    container.appendChild(card);
                });
            }
            
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            updateStats() {
                const totalWords = this.words.length;
                const masteredWords = this.words.filter(w => w.mastered).length;
                const coreWords = this.words.filter(w => w.category === 'core').length;
                const themeWords = this.words.filter(w => w.category === 'theme').length;
                
                document.getElementById('totalWords').textContent = totalWords;
                document.getElementById('masteredWords').textContent = masteredWords;
                document.getElementById('coreWords').textContent = coreWords;
                document.getElementById('themeWords').textContent = themeWords;
            }
        }
        
        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => {
            window.vocabApp = new VocabularyApp();
        });
    </script>
</body>
</html>
